# ArrayList在for循环中使用remove方法移除元素

[ArrayList在for循环中使用remove方法移除元素](https://blog.csdn.net/u012316120/article/details/51509066)

## 1 正着遍历漏值

先访问后删除。

```
//边循环边删除
for (int i = 0; i < list.size(); i++) {
	System.out.println("i的值:" + i + " 对应的数字:" + list.get(i));
	if(i == 3) list.remove(i);//删除list的第四项
}
```

删除前：

size|1|2|3|4|5|6
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值|0|1|2|3|4|5
索引`i`|0|1|2|3|4|5

删除中：

`i = 3`，打印的值为3：

size|1|2|3|4|5|6
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值|0|1|2|~~3~~ 4|5
索引`i`|0|1|2|**·3·**|4|5

size缩小为5，`i = 4`，打印的值为5：

size|1|2|3|4|5|-
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值|0|1|2|~~3~~ 4|5
索引`i`|0|1|2|3|**·4·**

**可见`值=4`被漏掉了**，因为4跑到了索引为3的头上。

## 2 反着遍历ok

先访问后删除。

```
//边循环边删除
for (int i = list.size() -1 ; i >= 0; i--) {
	System.out.println("i的值  " + i + " 对应的数字 " + list.get(i));
	if(i == 3) list.remove(i);
}
```

删除前：

size|1|2|3|4|5|6
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值|5|4|3|2|1|0
索引`i`|5|4|3|2|1|0

删除中：

`i = 3`，打印的值为3：

size|1|2|3|4|5|6
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值||5|4 ~~3~~|2|1|0
索引`i`|5|4|**·3·**|2|1|0

size缩小为5，`i = 2`，打印的值为2：

size|-|1|2|3|4|5
:-:|:-:|:-:|:-:|:-:|:-:|:-:
值||5|4 ~~3~~|2|1|0
索引`i`||4|3|**·2·**|1|0

**可见值全部打印了**。